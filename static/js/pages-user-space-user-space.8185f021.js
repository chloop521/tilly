(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-space-user-space"],{"0dd1":function(t,e,i){"use strict";i.r(e);var n=i("7f1d"),a=i("146c");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o,l=i("f0c5"),u=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"880a2116",null,!1,n["a"],o);e["default"]=u.exports},"146c":function(t,e,i){"use strict";i.r(e);var n=i("4840f"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"3fa2":function(t,e,i){"use strict";i.r(e);var n=i("58996"),a=i("d29b");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o,l=i("f0c5"),u=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"0ec06344",null,!1,n["a"],o);e["default"]=u.exports},"4840f":function(t,e,i){"use strict";(function(t){var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909")),s=n(i("5530")),o=n(i("3fa2")),l=i("2f62"),u={components:{mediaList:o.default},data:function(){return{user_id:0,user:{avatar:"",desc:"",email:"",id:0,nickname:"",phone:"",sex:"未知",username:""},fensCount:0,followStatus:!1,followCount:0,tabIndex:0,tabBars:[{key:"video_list",name:"作品",page:1,loadText:"上拉加载更多"},{key:"fava_list",name:"收藏",page:1,loadText:"上拉加载更多"}],scrollHeight:0,list:[{data:[]},{data:[]}]}},computed:(0,s.default)((0,s.default)({},(0,l.mapState)({my_user_id:function(t){return t.user?t.user.id:0}})),{},{tab:function(){return this.tabBars[this.tabIndex]},url:function(){var t=this.tab;return"/".concat(t.key,"/").concat(t.page,"?user_id=").concat(this.user_id)}}),created:function(){var t=uni.getSystemInfoSync();this.scrollHeight=t.windowHeight-44-44-t.statusBarHeight},onLoad:function(t){if(!t.user_id)return uni.showToast({title:"非法参数",icon:"none"}),uni.navigateBack({delta:1});this.user_id=t.user_id,this.getUserInfo(t.user_id),this.getData()},methods:{scrolltolower:function(t){this.tabBars[t].page++,this.getData()},getUserInfo:function(t){var e=this;this.$H.get("/user/user_info?user_id="+t,{token:!0,noJump:!0,toast:!1}).then((function(t){e.user=t.user,e.fensCount=t.fensCount,e.followCount=t.followCount,e.followStatus=t.follow}))},getData:function(){var t=this,e=this.tabIndex,i=this.tabBars[e].page;this.$H.get(this.url).then((function(n){t.list[e].data=1===i?n:[].concat((0,a.default)(t.list[e].data),(0,a.default)(n)),t.tabBars[e].loadText=10===n.length?"上拉加载更多":"没有更多了"})).catch((function(n){i>1&&t.tabBars[e].page--,t.tabBars[e].loadText="上拉加载更多"}))},changeSwiper:function(t){this.tabIndex=t.detail.current,this.tabBars[this.tabIndex].page=1,this.getData()},changeTab:function(t){this.tabIndex=t},doFollow:function(){var e=this,i=this.followStatus?"/user/unfollow":"/user/follow",n=this.followStatus?"取消关注":"关注";this.$H.post(i,{follow_id:this.user_id},{token:!0}).then((function(i){e.followStatus=!e.followStatus,uni.showToast({title:n+"成功",icon:"none"}),t.log(i)})).catch((function(e){t.log(e)}))}}};e.default=u}).call(this,i("5a52")["default"])},58996:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"flex align-center py-2 border-bottom",staticStyle:{width:"750rpx","box-sizing":"border-box"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"rounded-lg mx-2 flex-shrink",staticStyle:{width:"260rpx",height:"160rpx"},attrs:{src:t.item.cover}}),i("v-uni-view",{staticClass:"flex-1 flex flex-column"},[i("v-uni-text",{staticClass:"font",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.item.title))]),i("v-uni-text",{staticClass:"font-sm text-light-muted mt-auto"},[t._v(t._s(t.item.create_time))]),i("v-uni-view",{staticClass:"flex align-center justify-between text-muted line-h"},[i("v-uni-view",{staticClass:"line-h"},[i("v-uni-text",{staticClass:"iconfont iconbofangshu font-md mx-1"}),i("v-uni-text",{staticClass:"font-sm"},[t._v(t._s(t.item.play_count))])],1),i("v-uni-view",{staticClass:"line-h"},[i("v-uni-text",{staticClass:"iconfont icondanmushu font-md mx-1"}),i("v-uni-text",{staticClass:"font-sm"},[t._v(t._s(t.item.danmu_count))])],1),i("v-uni-text",{staticClass:"iconfont icongengduo"})],1)],1)],1)},s=[]},"7f1d":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-image",{staticStyle:{width:"750rpx",height:"320rpx"},attrs:{src:"/static/demo/list2/3.jpg",mode:"aspectFill"}}),i("v-uni-view",{staticClass:"border-bottom",staticStyle:{height:"350rpx"}},[i("v-uni-view",{staticClass:"flex align-center justify-between px-3"},[i("v-uni-image",{staticClass:"rounded-circle",staticStyle:{width:"130rpx",height:"130rpx","margin-top":"-60rpx"},attrs:{src:t.user.avatar||"/static/demo/6.jpg"}}),t.user_id!=t.my_user_id?i("v-uni-view",{staticClass:"flex align-center justify-center rounded bg-main text-white py-1 px-2",attrs:{"hover-class":"bg-main-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doFollow.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"font"},[t._v(t._s(t.followStatus?"已关注":"关注"))])],1):t._e()],1),i("v-uni-view",{staticClass:"px-4 flex align-center py-1"},[i("v-uni-view",{staticClass:"font-lg text-main font-weight-bold"},[t._v(t._s(t.user.nickname||t.user.username))]),i("v-uni-text",{staticClass:"font text-light-muted ml-2"},[t._v("UID:"+t._s(t.user.id))])],1),i("v-uni-view",{staticClass:"flex align-center px-4 mt-2"},[i("v-uni-view",{staticClass:"font-md text-dark flex align-center"},[t._v(t._s(t.followCount)),i("v-uni-text",{staticClass:"ml-2 font-sm text-light-muted"},[t._v("关注")])],1),i("v-uni-view",{staticClass:"font-md text-dark flex align-center ml-2"},[t._v(t._s(t.fensCount)),i("v-uni-text",{staticClass:"ml-2 font-sm text-light-muted"},[t._v("粉丝")])],1)],1),i("v-uni-view",{staticClass:"px-4 mt-2"},[i("v-uni-view",{staticClass:"text-ellipsis font-sm text-light-muted",staticStyle:{"line-height":"1.5"}},[t._v(t._s(t.user.desc||"暂无描述..."))])],1)],1),i("v-uni-view",{staticClass:"flex align-center",staticStyle:{height:"44px"}},t._l(t.tabBars,(function(e,n){return i("v-uni-view",{key:n,staticClass:"flex-1 flex align-center justify-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(n)}}},[i("v-uni-text",{staticClass:"font-md font",class:t.tabIndex===n?"text-main":""},[t._v(t._s(e.name))])],1)})),1),i("v-uni-swiper",{style:"height:"+t.scrollHeight+"px;",attrs:{current:t.tabIndex,duration:300},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwiper.apply(void 0,arguments)}}},t._l(t.tabBars,(function(e,n){return i("v-uni-swiper-item",{key:n},[i("v-uni-scroll-view",{style:"height:"+t.scrollHeight+"px;",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrolltolower(n)}}},[i("v-uni-view",{staticClass:"f-divider"}),t._l(t.list[n].data,(function(t,e){return i("media-list",{key:e,attrs:{item:t,index:e}})})),0===t.list[n].data.length?i("v-uni-view",{staticClass:"flex align-center justify-center text-secondary",staticStyle:{height:"200rpx"}},[t._v("暂无数据")]):t.list[n].data.length>10?i("v-uni-view",{staticClass:"flex align-center justify-center font-md text-secondary",staticStyle:{height:"80rpx"},attrs:{"hover-class":"bg-light"}},[t._v(t._s(e.loadText))]):t._e()],2)],1)})),1)],1)},s=[]},c4ab:function(t,e,i){"use strict";i("c740"),i("a434"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{item:Object,index:[String,Number]},methods:{toFirst:function(t,e){return 0!=e&&t.unshift(t.splice(e,1)[0]),t},open:function(){var t=this;uni.navigateTo({url:"/pages/detail-video/detail-video?id="+this.item.id});var e=uni.getStorageSync("history");e=e?JSON.parse(e):[];var i=e.findIndex((function(e){return e.id===t.item.id}));-1===i?e.unshift(this.item):this.toFirst(e,i),uni.setStorage({key:"history",data:JSON.stringify(e)})}}};e.default=n},d29b:function(t,e,i){"use strict";i.r(e);var n=i("c4ab"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a}}]);